import{ae as qe,aD as De,g as ze,p as Z,i as j,m as W,T as ye,aE as at,aF as ge,aG as rt,r as $,S as D,d as be,w as B,G as _,aH as it,c as R,E as st,an as le,D as V,a as Ae,K as Ee,e as xe,aI as je,aj as Se,a4 as Ye,aJ as Pe,aC as lt,s as Q,J as ct,o as ut,a0 as Xe,aK as Ce,aL as ft,t as Fe,L as vt,a8 as dt,u as mt,I as yt,H as gt,b as ht,h as wt,N as ne,a5 as bt,a6 as Et,aM as xt,F as St,O as pt,Q as Ot}from"./index-XfzghrTN.js";import{g as J,h as Ke,n as Ge,B as ce,i as kt,j as Le}from"./forwardRefs--s6B5EbG.js";import{w as Te,x as ue,y as fe,z as Be,A as Me,a as At,d as Pt,B as Ct,M as Ft,s as Lt}from"./VAvatar-DrNrBBh9.js";import{a as Tt,m as Bt,u as Mt}from"./scopeId-JKcj2l0q.js";import{u as Rt,a as Nt}from"./dimensions-BTn1Zqj3.js";import{u as Vt,m as Ht}from"./lazy-CW5rMfy1.js";const oe=new WeakMap;function _t(e,n){Object.keys(n).forEach(t=>{if(qe(t)){const o=De(t),a=oe.get(e);if(n[t]==null)a==null||a.forEach(i=>{const[f,s]=i;f===o&&(e.removeEventListener(o,s),a.delete(i))});else if(!a||![...a].some(i=>i[0]===o&&i[1]===n[t])){e.addEventListener(o,n[t]);const i=a||new Set;i.add([o,n[t]]),oe.has(e)||oe.set(e,i)}}else n[t]==null?e.removeAttribute(t):e.setAttribute(t,n[t])})}function It(e,n){Object.keys(n).forEach(t=>{if(qe(t)){const o=De(t),a=oe.get(e);a==null||a.forEach(i=>{const[f,s]=i;f===o&&(e.removeEventListener(o,s),a.delete(i))})}else e.removeAttribute(t)})}function Ue(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const n=e.getRootNode();return n!==document&&n.getRootNode({composed:!0})!==document?null:n}function Wt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(n?$t(e):pe(e))return e;e=e.parentElement}return document.scrollingElement}function re(e,n){const t=[];if(n&&e&&!n.contains(e))return t;for(;e&&(pe(e)&&t.push(e),e!==n);)e=e.parentElement;return t}function pe(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e),t=n.overflowY==="scroll"||n.overflowY==="auto"&&e.scrollHeight>e.clientHeight,o=n.overflowX==="scroll"||n.overflowX==="auto"&&e.scrollWidth>e.clientWidth;return t||o}function $t(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return["scroll","auto"].includes(n.overflowY)}function qt(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const Dt=Z({target:[Object,Array]},"v-dialog-transition"),ve=new WeakMap,En=ze()({name:"VDialogTransition",props:Dt(),setup(e,n){let{slots:t}=n;const o={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,i){var w;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),a.style.visibility="";const f=Ne(e.target,a),{x:s,y:r,sx:v,sy:l,speed:g}=f;ve.set(a,f);const b=J(a,[{transform:`translate(${s}px, ${r}px) scale(${v}, ${l})`,opacity:0},{}],{duration:225*g,easing:rt});(w=Re(a))==null||w.forEach(h=>{J(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*g,easing:ge})}),b.finished.then(()=>i())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,i){var w;await new Promise(h=>requestAnimationFrame(h));let f;!ve.has(a)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?f=Ne(e.target,a):f=ve.get(a);const{x:s,y:r,sx:v,sy:l,speed:g}=f;J(a,[{},{transform:`translate(${s}px, ${r}px) scale(${v}, ${l})`,opacity:0}],{duration:125*g,easing:at}).finished.then(()=>i()),(w=Re(a))==null||w.forEach(h=>{J(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*g,easing:ge})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>e.target?j(ye,W({name:"dialog-transition"},o,{css:!1}),t):j(ye,{name:"dialog-transition"},t)}});function Re(e){var t;const n=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return n&&[...n]}function Ne(e,n){const t=Ke(e),o=Ge(n),[a,i]=getComputedStyle(n).transformOrigin.split(" ").map(u=>parseFloat(u)),[f,s]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let r=t.left+t.width/2;f==="left"||s==="left"?r-=t.width/2:(f==="right"||s==="right")&&(r+=t.width/2);let v=t.top+t.height/2;f==="top"||s==="top"?v-=t.height/2:(f==="bottom"||s==="bottom")&&(v+=t.height/2);const l=t.width/o.width,g=t.height/o.height,b=Math.max(1,l,g),w=l/b||0,h=g/b||0,C=o.width*o.height/(window.innerWidth*window.innerHeight),F=C>.12?Math.min(1.5,(C-.12)*10+1):1;return{x:r-(a+o.left),y:v-(i+o.top),sx:w,sy:h,speed:F}}function de(e,n){return{x:e.x+n.x,y:e.y+n.y}}function zt(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Ve(e,n){if(e.side==="top"||e.side==="bottom"){const{side:t,align:o}=e,a=o==="left"?0:o==="center"?n.width/2:o==="right"?n.width:o,i=t==="top"?0:t==="bottom"?n.height:t;return de({x:a,y:i},n)}else if(e.side==="left"||e.side==="right"){const{side:t,align:o}=e,a=t==="left"?0:t==="right"?n.width:t,i=o==="top"?0:o==="center"?n.height/2:o==="bottom"?n.height:o;return de({x:a,y:i},n)}return de({x:n.width/2,y:n.height/2},n)}const Je={static:Xt,connected:Gt},jt=Z({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Je},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Yt(e,n){const t=$({}),o=$();D&&be(()=>!!(n.isActive.value&&e.locationStrategy),s=>{var r,v;B(()=>e.locationStrategy,s),_(()=>{window.removeEventListener("resize",a),visualViewport==null||visualViewport.removeEventListener("resize",i),visualViewport==null||visualViewport.removeEventListener("scroll",f),o.value=void 0}),window.addEventListener("resize",a,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",i,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",f,{passive:!0}),typeof e.locationStrategy=="function"?o.value=(r=e.locationStrategy(n,e,t))==null?void 0:r.updateLocation:o.value=(v=Je[e.locationStrategy](n,e,t))==null?void 0:v.updateLocation});function a(s){var r;(r=o.value)==null||r.call(o,s)}function i(s){var r;(r=o.value)==null||r.call(o,s)}function f(s){var r;(r=o.value)==null||r.call(o,s)}return{contentStyles:t,updateLocation:o}}function Xt(){}function Kt(e,n){const t=Ge(e);return n?t.x+=parseFloat(e.style.right||0):t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function Gt(e,n,t){(Array.isArray(e.target.value)||qt(e.target.value))&&Object.assign(t.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:a,preferredOrigin:i}=it(()=>{const u=Te(n.location,e.isRtl.value),d=n.origin==="overlap"?u:n.origin==="auto"?ue(u):Te(n.origin,e.isRtl.value);return u.side===d.side&&u.align===fe(d).align?{preferredAnchor:Be(u),preferredOrigin:Be(d)}:{preferredAnchor:u,preferredOrigin:d}}),[f,s,r,v]=["minWidth","minHeight","maxWidth","maxHeight"].map(u=>R(()=>{const d=parseFloat(n[u]);return isNaN(d)?1/0:d})),l=R(()=>{if(Array.isArray(n.offset))return n.offset;if(typeof n.offset=="string"){const u=n.offset.split(" ").map(parseFloat);return u.length<2&&u.push(0),u}return typeof n.offset=="number"?[n.offset,0]:[0,0]});let g=!1,b=-1;const w=new st(4),h=new ResizeObserver(()=>{if(!g)return;if(requestAnimationFrame(d=>{d!==b&&w.clear(),requestAnimationFrame(L=>{b=L})}),w.isFull){const d=w.values();if(le(d.at(-1),d.at(-3))&&!le(d.at(-1),d.at(-2)))return}const u=F();u&&w.push(u.flipped)});let C=new ce({x:0,y:0,width:0,height:0});B(e.target,(u,d)=>{d&&!Array.isArray(d)&&h.unobserve(d),Array.isArray(u)?le(u,d)||F():u&&h.observe(u)},{immediate:!0}),B(e.contentEl,(u,d)=>{d&&h.unobserve(d),u&&h.observe(u)},{immediate:!0}),_(()=>{h.disconnect()});function F(){if(g=!1,requestAnimationFrame(()=>g=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(C=Ke(e.target.value));const u=Kt(e.contentEl.value,e.isRtl.value),d=re(e.contentEl.value),L=12;d.length||(d.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(u.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),u.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const E=d.reduce((S,A)=>{const m=kt(A);return S?new ce({x:Math.max(S.left,m.left),y:Math.max(S.top,m.top),width:Math.min(S.right,m.right)-Math.max(S.left,m.left),height:Math.min(S.bottom,m.bottom)-Math.max(S.top,m.top)}):m},void 0);E.x+=L,E.y+=L,E.width-=L*2,E.height-=L*2;let p={anchor:a.value,origin:i.value};function H(S){const A=new ce(u),m=Ve(S.anchor,C),P=Ve(S.origin,A);let{x:M,y:N}=zt(m,P);switch(S.anchor.side){case"top":N-=l.value[0];break;case"bottom":N+=l.value[0];break;case"left":M-=l.value[0];break;case"right":M+=l.value[0];break}switch(S.anchor.align){case"top":N-=l.value[1];break;case"bottom":N+=l.value[1];break;case"left":M-=l.value[1];break;case"right":M+=l.value[1];break}return A.x+=M,A.y+=N,A.width=Math.min(A.width,r.value),A.height=Math.min(A.height,v.value),{overflows:Le(A,E),x:M,y:N}}let O=0,c=0;const x={x:0,y:0},z={x:!1,y:!1};let se=-1;for(;!(se++>10);){const{x:S,y:A,overflows:m}=H(p);O+=S,c+=A,u.x+=S,u.y+=A;{const P=Me(p.anchor),M=m.x.before||m.x.after,N=m.y.before||m.y.after;let X=!1;if(["x","y"].forEach(k=>{if(k==="x"&&M&&!z.x||k==="y"&&N&&!z.y){const I={anchor:{...p.anchor},origin:{...p.origin}},ee=k==="x"?P==="y"?fe:ue:P==="y"?ue:fe;I.anchor=ee(I.anchor),I.origin=ee(I.origin);const{overflows:q}=H(I);(q[k].before<=m[k].before&&q[k].after<=m[k].after||q[k].before+q[k].after<(m[k].before+m[k].after)/2)&&(p=I,X=z[k]=!0)}}),X)continue}m.x.before&&(O+=m.x.before,u.x+=m.x.before),m.x.after&&(O-=m.x.after,u.x-=m.x.after),m.y.before&&(c+=m.y.before,u.y+=m.y.before),m.y.after&&(c-=m.y.after,u.y-=m.y.after);{const P=Le(u,E);x.x=E.width-P.x.before-P.x.after,x.y=E.height-P.y.before-P.y.after,O+=P.x.before,u.x+=P.x.before,c+=P.y.before,u.y+=P.y.before}break}const Y=Me(p.anchor);return Object.assign(t.value,{"--v-overlay-anchor-origin":`${p.anchor.side} ${p.anchor.align}`,transformOrigin:`${p.origin.side} ${p.origin.align}`,top:V(me(c)),left:e.isRtl.value?void 0:V(me(O)),right:e.isRtl.value?V(me(-O)):void 0,minWidth:V(Y==="y"?Math.min(f.value,C.width):f.value),maxWidth:V(He(Ae(x.x,f.value===1/0?0:f.value,r.value))),maxHeight:V(He(Ae(x.y,s.value===1/0?0:s.value,v.value)))}),{available:x,contentBox:u,flipped:z}}return B(()=>[a.value,i.value,n.offset,n.minWidth,n.minHeight,n.maxWidth,n.maxHeight],()=>F()),Ee(()=>{const u=F();if(!u)return;const{available:d,contentBox:L}=u;L.height>d.y&&requestAnimationFrame(()=>{F(),requestAnimationFrame(()=>{F()})})}),{updateLocation:F}}function me(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function He(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let he=!0;const ie=[];function Ut(e){!he||ie.length?(ie.push(e),we()):(he=!1,e(),we())}let _e=-1;function we(){cancelAnimationFrame(_e),_e=requestAnimationFrame(()=>{const e=ie.shift();e&&e(),ie.length?we():he=!0})}const ae={none:null,close:Zt,block:en,reposition:tn},Jt=Z({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ae}},"VOverlay-scroll-strategies");function Qt(e,n){if(!D)return;let t;xe(async()=>{t==null||t.stop(),n.isActive.value&&e.scrollStrategy&&(t=je(),await new Promise(o=>setTimeout(o)),t.active&&t.run(()=>{var o;typeof e.scrollStrategy=="function"?e.scrollStrategy(n,e,t):(o=ae[e.scrollStrategy])==null||o.call(ae,n,e,t)}))}),_(()=>{t==null||t.stop()})}function Zt(e){function n(t){e.isActive.value=!1}Qe(Oe(e.target.value,e.contentEl.value),n)}function en(e,n){var s;const t=(s=e.root.value)==null?void 0:s.offsetParent,o=Oe(e.target.value,e.contentEl.value),a=[...new Set([...re(o,n.contained?t:void 0),...re(e.contentEl.value,n.contained?t:void 0)])].filter(r=>!r.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,f=(r=>pe(r)&&r)(t||document.documentElement);f&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((r,v)=>{r.style.setProperty("--v-body-scroll-x",V(-r.scrollLeft)),r.style.setProperty("--v-body-scroll-y",V(-r.scrollTop)),r!==document.documentElement&&r.style.setProperty("--v-scrollbar-offset",V(i)),r.classList.add("v-overlay-scroll-blocked")}),_(()=>{a.forEach((r,v)=>{const l=parseFloat(r.style.getPropertyValue("--v-body-scroll-x")),g=parseFloat(r.style.getPropertyValue("--v-body-scroll-y")),b=r.style.scrollBehavior;r.style.scrollBehavior="auto",r.style.removeProperty("--v-body-scroll-x"),r.style.removeProperty("--v-body-scroll-y"),r.style.removeProperty("--v-scrollbar-offset"),r.classList.remove("v-overlay-scroll-blocked"),r.scrollLeft=-l,r.scrollTop=-g,r.style.scrollBehavior=b}),f&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function tn(e,n,t){let o=!1,a=-1,i=-1;function f(s){Ut(()=>{var l,g;const r=performance.now();(g=(l=e.updateLocation).value)==null||g.call(l,s),o=(performance.now()-r)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{t.run(()=>{Qe(Oe(e.target.value,e.contentEl.value),s=>{o?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{f(s)})})):f(s)})})}),_(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(a)})}function Oe(e,n){return Array.isArray(e)?document.elementsFromPoint(...e).find(t=>!(n!=null&&n.contains(t))):e??n}function Qe(e,n){const t=[document,...re(e)];t.forEach(o=>{o.addEventListener("scroll",n,{passive:!0})}),_(()=>{t.forEach(o=>{o.removeEventListener("scroll",n)})})}const nn=Symbol.for("vuetify:v-menu"),on=Z({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Bt()},"VOverlay-activator");function an(e,n){let{isActive:t,isTop:o,contentEl:a}=n;const i=Se("useActivator"),f=$();let s=!1,r=!1,v=!0;const l=R(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),g=R(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!l.value),{runOpenDelay:b,runCloseDelay:w}=Tt(e,c=>{c===(e.openOnHover&&s||l.value&&r)&&!(e.openOnHover&&t.value&&!o.value)&&(t.value!==c&&(v=!0),t.value=c)}),h=$(),C={onClick:c=>{c.stopPropagation(),f.value=c.currentTarget||c.target,t.value||(h.value=[c.clientX,c.clientY]),t.value=!t.value},onMouseenter:c=>{var x;(x=c.sourceCapabilities)!=null&&x.firesTouchEvents||(s=!0,f.value=c.currentTarget||c.target,b())},onMouseleave:c=>{s=!1,w()},onFocus:c=>{lt(c.target,":focus-visible")!==!1&&(r=!0,c.stopPropagation(),f.value=c.currentTarget||c.target,b())},onBlur:c=>{r=!1,c.stopPropagation(),w()}},F=R(()=>{const c={};return g.value&&(c.onClick=C.onClick),e.openOnHover&&(c.onMouseenter=C.onMouseenter,c.onMouseleave=C.onMouseleave),l.value&&(c.onFocus=C.onFocus,c.onBlur=C.onBlur),c}),u=R(()=>{const c={};if(e.openOnHover&&(c.onMouseenter=()=>{s=!0,b()},c.onMouseleave=()=>{s=!1,w()}),l.value&&(c.onFocusin=()=>{r=!0,b()},c.onFocusout=()=>{r=!1,w()}),e.closeOnContentClick){const x=Ye(nn,null);c.onClick=()=>{t.value=!1,x==null||x.closeParents()}}return c}),d=R(()=>{const c={};return e.openOnHover&&(c.onMouseenter=()=>{v&&(s=!0,v=!1,b())},c.onMouseleave=()=>{s=!1,w()}),c});B(o,c=>{var x;c&&(e.openOnHover&&!s&&(!l.value||!r)||l.value&&!r&&(!e.openOnHover||!s))&&!((x=a.value)!=null&&x.contains(document.activeElement))&&(t.value=!1)}),B(t,c=>{c||setTimeout(()=>{h.value=void 0})},{flush:"post"});const L=Pe();xe(()=>{L.value&&Ee(()=>{f.value=L.el})});const E=Pe(),p=R(()=>e.target==="cursor"&&h.value?h.value:E.value?E.el:Ze(e.target,i)||f.value),H=R(()=>Array.isArray(p.value)?void 0:p.value);let O;return B(()=>!!e.activator,c=>{c&&D?(O=je(),O.run(()=>{rn(e,i,{activatorEl:f,activatorEvents:F})})):O&&O.stop()},{flush:"post",immediate:!0}),_(()=>{O==null||O.stop()}),{activatorEl:f,activatorRef:L,target:p,targetEl:H,targetRef:E,activatorEvents:F,contentEvents:u,scrimEvents:d}}function rn(e,n,t){let{activatorEl:o,activatorEvents:a}=t;B(()=>e.activator,(r,v)=>{if(v&&r!==v){const l=s(v);l&&f(l)}r&&Ee(()=>i())},{immediate:!0}),B(()=>e.activatorProps,()=>{i()}),_(()=>{f()});function i(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;r&&_t(r,W(a.value,v))}function f(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;r&&It(r,W(a.value,v))}function s(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const v=Ze(r,n);return o.value=(v==null?void 0:v.nodeType)===Node.ELEMENT_NODE?v:void 0,o.value}}function Ze(e,n){var o,a;if(!e)return;let t;if(e==="parent"){let i=(a=(o=n==null?void 0:n.proxy)==null?void 0:o.$el)==null?void 0:a.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;t=i}else typeof e=="string"?t=document.querySelector(e):"$el"in e?t=e.$el:t=e;return t}function sn(){if(!D)return Q(!1);const{ssr:e}=ct();if(e){const n=Q(!1);return ut(()=>{n.value=!0}),n}else return Q(!0)}const Ie=Symbol.for("vuetify:stack"),U=Xe([]);function ln(e,n,t){const o=Se("useStack"),a=!t,i=Ye(Ie,void 0),f=Xe({activeChildren:new Set});dt(Ie,f);const s=Q(Number(Ce(n)));be(e,()=>{var g;const l=(g=U.at(-1))==null?void 0:g[1];s.value=l?l+10:Number(Ce(n)),a&&U.push([o.uid,s.value]),i==null||i.activeChildren.add(o.uid),_(()=>{if(a){const b=ft(U).findIndex(w=>w[0]===o.uid);U.splice(b,1)}i==null||i.activeChildren.delete(o.uid)})});const r=Q(!0);a&&xe(()=>{var g;const l=((g=U.at(-1))==null?void 0:g[0])===o.uid;setTimeout(()=>r.value=l)});const v=Fe(()=>!f.activeChildren.size);return{globalTop:vt(r),localTop:v,stackStyles:Fe(()=>({zIndex:s.value}))}}function cn(e){return{teleportTarget:R(()=>{const t=e();if(t===!0||!D)return;const o=t===!1?document.body:typeof t=="string"?document.querySelector(t):t;if(o==null)return;let a=[...o.children].find(i=>i.matches(".v-overlay-container"));return a||(a=document.createElement("div"),a.className="v-overlay-container",o.appendChild(a)),a})}}function un(){return!0}function et(e,n,t){if(!e||tt(e,t)===!1)return!1;const o=Ue(n);if(typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&o.host===e.target)return!1;const a=(typeof t.value=="object"&&t.value.include||(()=>[]))();return a.push(n),!a.some(i=>i==null?void 0:i.contains(e.target))}function tt(e,n){return(typeof n.value=="object"&&n.value.closeConditional||un)(e)}function fn(e,n,t){const o=typeof t.value=="function"?t.value:t.value.handler;e.shadowTarget=e.target,n._clickOutside.lastMousedownWasOutside&&et(e,n,t)&&setTimeout(()=>{tt(e,t)&&o&&o(e)},0)}function We(e,n){const t=Ue(e);n(document),typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&n(t)}const $e={mounted(e,n){const t=a=>fn(a,e,n),o=a=>{e._clickOutside.lastMousedownWasOutside=et(a,e,n)};We(e,a=>{a.addEventListener("click",t,!0),a.addEventListener("mousedown",o,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[n.instance.$.uid]={onClick:t,onMousedown:o}},beforeUnmount(e,n){e._clickOutside&&(We(e,t=>{var i;if(!t||!((i=e._clickOutside)!=null&&i[n.instance.$.uid]))return;const{onClick:o,onMousedown:a}=e._clickOutside[n.instance.$.uid];t.removeEventListener("click",o,!0),t.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[n.instance.$.uid])}};function vn(e){const{modelValue:n,color:t,...o}=e;return j(ye,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&ne("div",W({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},o),null)]})}const dn=Z({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...on(),...Ot(),...Nt(),...Ht(),...jt(),...Jt(),...pt(),...Lt()},"VOverlay"),xn=ze()({name:"VOverlay",directives:{vClickOutside:$e},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...dn()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{slots:t,attrs:o,emit:a}=n;const i=Se("VOverlay"),f=$(),s=$(),r=$(),v=mt(e,"modelValue"),l=R({get:()=>v.value,set:y=>{y&&e.disabled||(v.value=y)}}),{themeClasses:g}=yt(e),{rtlClasses:b,isRtl:w}=gt(),{hasContent:h,onAfterLeave:C}=Vt(e,l),F=At(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:u,localTop:d,stackStyles:L}=ln(l,()=>e.zIndex,e._disableGlobalStack),{activatorEl:E,activatorRef:p,target:H,targetEl:O,targetRef:c,activatorEvents:x,contentEvents:z,scrimEvents:se}=an(e,{isActive:l,isTop:d,contentEl:r}),{teleportTarget:Y}=cn(()=>{var K,G,ke;const y=e.attach||e.contained;if(y)return y;const T=((K=E==null?void 0:E.value)==null?void 0:K.getRootNode())||((ke=(G=i.proxy)==null?void 0:G.$el)==null?void 0:ke.getRootNode());return T instanceof ShadowRoot?T:!1}),{dimensionStyles:S}=Rt(e),A=sn(),{scopeId:m}=Mt();B(()=>e.disabled,y=>{y&&(l.value=!1)});const{contentStyles:P,updateLocation:M}=Yt(e,{isRtl:w,contentEl:r,target:H,isActive:l});Qt(e,{root:f,contentEl:r,targetEl:O,target:H,isActive:l,updateLocation:M});function N(y){a("click:outside",y),e.persistent?te():l.value=!1}function X(y){return l.value&&u.value&&(!e.scrim||y.target===s.value||y instanceof MouseEvent&&y.shadowTarget===s.value)}D&&B(l,y=>{y?window.addEventListener("keydown",k):window.removeEventListener("keydown",k)},{immediate:!0}),ht(()=>{D&&window.removeEventListener("keydown",k)});function k(y){var T,K,G;y.key==="Escape"&&u.value&&((T=r.value)!=null&&T.contains(document.activeElement)||a("keydown",y),e.persistent?te():(l.value=!1,(K=r.value)!=null&&K.contains(document.activeElement)&&((G=E.value)==null||G.focus())))}function I(y){y.key==="Escape"&&!u.value||a("keydown",y)}const ee=Pt();be(()=>e.closeOnBack,()=>{Ct(ee,y=>{u.value&&l.value?(y(!1),e.persistent?te():l.value=!1):y()})});const q=$();B(()=>l.value&&(e.absolute||e.contained)&&Y.value==null,y=>{if(y){const T=Wt(f.value);T&&T!==document.scrollingElement&&(q.value=T.scrollTop)}});function te(){e.noClickAnimation||r.value&&J(r.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:ge})}function nt(){a("afterEnter")}function ot(){C(),a("afterLeave")}return wt(()=>{var y;return ne(St,null,[(y=t.activator)==null?void 0:y.call(t,{isActive:l.value,targetRef:c,props:W({ref:p},x.value,e.activatorProps)}),A.value&&h.value&&j(xt,{disabled:!Y.value,to:Y.value},{default:()=>[ne("div",W({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":l.value,"v-overlay--contained":e.contained},g.value,b.value,e.class],style:[L.value,{"--v-overlay-opacity":e.opacity,top:V(q.value)},e.style],ref:f,onKeydown:I},m,o),[j(vn,W({color:F,modelValue:l.value&&!!e.scrim,ref:s},se.value),null),j(Ft,{appear:!0,persisted:!0,transition:e.transition,target:H.value,onAfterEnter:nt,onAfterLeave:ot},{default:()=>{var T;return[bt(ne("div",W({ref:r,class:["v-overlay__content",e.contentClass],style:[S.value,P.value]},z.value,e.contentProps),[(T=t.default)==null?void 0:T.call(t,{isActive:l})]),[[Et,l.value],[$e,{handler:N,closeConditional:X,include:()=>[E.value]}]])]}})])]})])}),{activatorEl:E,scrimEl:s,target:H,animateClick:te,contentEl:r,globalTop:u,localTop:d,updateLocation:M}}});export{xn as V,En as a,nn as b,Wt as g,dn as m};

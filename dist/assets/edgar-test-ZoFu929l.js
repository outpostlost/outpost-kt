import{Z as E,l as B,r as C,c as x,o as L,n as m,q as p,v as e,i as t,C as D,A as o,X as r,y as _,N as f}from"./index-XfzghrTN.js";import S from"./useNotify-CNR52NHZ.js";import{u as P}from"./useAuth-CpsKkO3P.js";import{b as V}from"./route-block-B_A1xBdJ.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as u,a as s,b as d,c as y,d as v}from"./VCard-BECKUIfU.js";import{V as h}from"./VContainer-R6qPkMgO.js";import{V as j}from"./VBtn-DyMKmmJZ.js";import{j as F}from"./VAvatar-DrNrBBh9.js";import{V as G}from"./VDataTable-ClKBkycv.js";import{V as $}from"./VChip-CdDlcFnE.js";import{V as z}from"./VSheet-Braltggs.js";import"./dimensions-BTn1Zqj3.js";import"./VSelect-7OPIFvbh.js";import"./VTextField-DrQV8GZt.js";import"./forwardRefs--s6B5EbG.js";import"./index-CT5Z8H4E.js";import"./VList-uSYSyOiG.js";import"./ssrBoot-CEib-DlM.js";import"./VOverlay-CuvIps3-.js";import"./scopeId-JKcj2l0q.js";import"./lazy-CW5rMfy1.js";import"./VSelectionControl-CgJ3t_n0.js";const H={style:{"white-space":"pre-wrap","word-wrap":"break-word","max-height":"400px","overflow-y":"auto","font-size":"12px"}},M="SEC EDGAR 10-K Reports Test",w={__name:"edgar-test",setup(q){E();const g=S(),b=B(),c=C(!1),l=C(null),I=[{title:"Filing Date",key:"filingDate",sortable:!0},{title:"Report Date",key:"reportDate",sortable:!0},{title:"Accession Number",key:"accessionNumber",sortable:!1},{title:"Primary Document",key:"primaryDocument",sortable:!1},{title:"XBRL",key:"isXBRL",sortable:!0},{title:"File Number",key:"fileNumber",sortable:!1}],R=x(()=>b.current.value.dark?"bg-charcoal":"bg-parchment"),T=x(()=>b.current.value.dark?"text-stone-gray":"text-secondary"),K=x(()=>l.value?JSON.stringify(l.value,null,2):""),k=i=>i?new Date(i).toLocaleDateString():"";P();const N={title:"SEC EDGAR 10-K Reports Test"},A=async()=>{c.value=!0,l.value=null;try{const a=await(await fetch("/api/edgar-company-facts")).json();a.success?(l.value=a,g.success(`Successfully fetched ${a.totalTenKReports} 10-K reports for ${a.companyInfo.name}`)):g.error(`API Error: ${a.error}`)}catch(i){console.error("Error calling API:",i),g.error(`Network Error: ${i.message}`)}finally{c.value=!1}};return L(()=>{document.title=N.title}),(i,a)=>(p(),m(z,{class:"flex-grow-1 d-flex flex-column",flat:"",rounded:"",color:"surface"},{default:e(()=>[t(u,{class:"flex-grow-1 ma-0"},{default:e(()=>[t(s,{class:"d-flex flex-column pa-0"},{default:e(()=>[t(d,{class:D(["flex-grow-1","d-flex","flex-column",R.value]),flat:"",border:0},{default:e(()=>[t(y,{class:"flex-grow-1",style:{"overflow-y":"auto"},border:0},{default:e(()=>[t(h,{fluid:""},{default:e(()=>[t(u,null,{default:e(()=>[t(s,{cols:"2"},{default:e(()=>[t(d,{variant:"text",class:D([T.value,"text-h5",R.value]),border:0},{default:e(()=>[o(r(M||"Loading..."),1)]),_:1},8,["class"])]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(d,{class:"bg-surface",variant:"outlined"},{default:e(()=>[t(v,{class:"text-secondary"},{default:e(()=>[...a[0]||(a[0]=[o("SEC EDGAR 10-K Reports Test",-1)])]),_:1}),t(y,null,{default:e(()=>[t(u,null,{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(j,{color:"primary",onClick:A,loading:c.value,disabled:c.value},{default:e(()=>[...a[1]||(a[1]=[o(" Fetch 10-K Reports (Apple - CIK 0000320193) ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),c.value?(p(),m(u,{key:0},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(F,{indeterminate:"",color:"primary"})]),_:1})]),_:1})):_("",!0),l.value&&l.value.companyInfo?(p(),m(u,{key:1},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(d,{variant:"outlined",class:"mt-4"},{default:e(()=>[t(v,{class:"text-secondary"},{default:e(()=>[...a[2]||(a[2]=[o("Company Information",-1)])]),_:1}),t(y,null,{default:e(()=>[t(u,null,{default:e(()=>[t(s,{cols:"6"},{default:e(()=>[a[3]||(a[3]=f("strong",null,"Company:",-1)),o(" "+r(l.value.companyInfo.name),1)]),_:1}),t(s,{cols:"6"},{default:e(()=>[a[4]||(a[4]=f("strong",null,"CIK:",-1)),o(" "+r(l.value.companyInfo.cik),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(s,{cols:"6"},{default:e(()=>{var n;return[a[5]||(a[5]=f("strong",null,"Tickers:",-1)),o(" "+r((n=l.value.companyInfo.tickers)==null?void 0:n.join(", ")),1)]}),_:1}),t(s,{cols:"6"},{default:e(()=>{var n;return[a[6]||(a[6]=f("strong",null,"Exchange:",-1)),o(" "+r((n=l.value.companyInfo.exchanges)==null?void 0:n.join(", ")),1)]}),_:1})]),_:1}),t(u,null,{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[a[7]||(a[7]=f("strong",null,"Industry:",-1)),o(" "+r(l.value.companyInfo.sicDescription)+" (SIC: "+r(l.value.companyInfo.sic)+") ",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):_("",!0),l.value&&l.value.tenKReports?(p(),m(u,{key:2},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(d,{variant:"outlined",class:"mt-4"},{default:e(()=>[t(v,{class:"text-secondary"},{default:e(()=>[o(" 10-K Reports ("+r(l.value.totalTenKReports)+" of "+r(l.value.totalAllFilings)+" total filings) ",1)]),_:1}),t(y,null,{default:e(()=>[t(G,{headers:I,items:l.value.tenKReports,"items-per-page":10,class:"elevation-1"},{"item.filingDate":e(({item:n})=>[o(r(k(n.filingDate)),1)]),"item.reportDate":e(({item:n})=>[o(r(k(n.reportDate)),1)]),"item.isXBRL":e(({item:n})=>[t($,{color:n.isXBRL?"success":"warning",size:"small"},{default:e(()=>[o(r(n.isXBRL?"Yes":"No"),1)]),_:2},1032,["color"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})):_("",!0),l.value?(p(),m(u,{key:3},{default:e(()=>[t(s,{cols:"12"},{default:e(()=>[t(d,{variant:"outlined",class:"mt-4"},{default:e(()=>[t(v,{class:"text-secondary"},{default:e(()=>[...a[8]||(a[8]=[o("Raw API Response",-1)])]),_:1}),t(y,null,{default:e(()=>[f("pre",H,r(K.value),1)]),_:1})]),_:1})]),_:1})]),_:1})):_("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})]),_:1}))}};typeof V=="function"&&V(w);const _e=X(w,[["__scopeId","data-v-d3212562"]]);export{_e as default};

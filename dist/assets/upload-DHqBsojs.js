import{r as y,o as B,n as V,q as c,v as e,i as l,y as U,A as s,$ as C,z as u,X as D}from"./index-XfzghrTN.js";import{u as k,V as q}from"./VFileInput-C_-wR4ha.js";import{b as _}from"./route-block-B_A1xBdJ.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as m,a as f,b as p,c as v,d as b}from"./VCard-BECKUIfU.js";import{V as I}from"./VContainer-R6qPkMgO.js";import{V as M}from"./VForm-D4DxYAg7.js";import{V as r}from"./VTextField-DrQV8GZt.js";import{V as R}from"./VTextarea-kSkycfnj.js";import{V as $}from"./VBtn-DyMKmmJZ.js";import{V as A}from"./VAlert-BXOlNWtC.js";import{V as E}from"./VSheet-Braltggs.js";import"./forwardRefs--s6B5EbG.js";import"./index-CT5Z8H4E.js";import"./VAvatar-DrNrBBh9.js";import"./dimensions-BTn1Zqj3.js";import"./VChip-CdDlcFnE.js";const g={__name:"upload",setup(L){const{isUploading:F,uploadResult:n,uploadError:x,uploadFile:S}=k(),i=y(null),o=y({fileName:"",description:"",source:"",url:"",notes:""}),w={title:"Blob Upload Test"},N=d=>d<1024?`${d} bytes`:`${Math.round(d/1024)} KB`,T=async()=>{if(i.value)try{await S(i.value,o.value)}catch(d){console.error("Upload failed:",d)}};return B(()=>{document.title=w.title}),(d,a)=>(c(),V(E,{class:"flex-grow-1 d-flex flex-column",flat:"",rounded:"",color:"surface"},{default:e(()=>[l(m,{class:"flex-grow-1 ma-0"},{default:e(()=>[l(f,{class:"d-flex flex-column pa-0"},{default:e(()=>[l(p,{class:"bg-sand flex-grow-1 d-flex flex-column",flat:"",border:0},{default:e(()=>[l(v,{class:"flex-grow-1",style:{"overflow-y":"auto"},border:0},{default:e(()=>[l(I,{fluid:""},{default:e(()=>[l(m,null,{default:e(()=>[l(f,{cols:"12"},{default:e(()=>[l(p,{class:"bg-surface",variant:"outlined"},{default:e(()=>[l(b,{class:"text-secondary"},{default:e(()=>[...a[6]||(a[6]=[s("Blob Upload Test",-1)])]),_:1}),l(v,null,{default:e(()=>[l(M,{onSubmit:C(T,["prevent"])},{default:e(()=>[l(q,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t),label:"Select File",variant:"outlined",required:""},null,8,["modelValue"]),l(r,{modelValue:o.value.fileName,"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.fileName=t),label:"File Name",variant:"outlined",required:""},null,8,["modelValue"]),l(r,{modelValue:o.value.description,"onUpdate:modelValue":a[2]||(a[2]=t=>o.value.description=t),label:"Description",variant:"outlined",required:""},null,8,["modelValue"]),l(r,{modelValue:o.value.source,"onUpdate:modelValue":a[3]||(a[3]=t=>o.value.source=t),label:"Source",variant:"outlined",required:""},null,8,["modelValue"]),l(r,{modelValue:o.value.url,"onUpdate:modelValue":a[4]||(a[4]=t=>o.value.url=t),label:"URL",variant:"outlined"},null,8,["modelValue"]),l(R,{modelValue:o.value.notes,"onUpdate:modelValue":a[5]||(a[5]=t=>o.value.notes=t),label:"Notes (Optional)",variant:"outlined"},null,8,["modelValue"]),l($,{type:"submit",color:"primary",loading:u(F),disabled:!i.value||!o.value.fileName||!o.value.description||!o.value.source},{default:e(()=>[...a[7]||(a[7]=[s(" Upload File ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u(n)?(c(),V(m,{key:0},{default:e(()=>[l(f,{cols:"12"},{default:e(()=>[l(p,{class:"bg-surface",variant:"outlined"},{default:e(()=>[l(b,{class:"text-secondary"},{default:e(()=>[...a[8]||(a[8]=[s("Upload Success",-1)])]),_:1}),l(v,null,{default:e(()=>[l(r,{label:"Blob URL","model-value":u(n).blobUrl,readonly:"",variant:"outlined"},null,8,["model-value"]),l(r,{label:"Document ID","model-value":u(n).documentId,readonly:"",variant:"outlined"},null,8,["model-value"]),l(r,{label:"File Size","model-value":N(u(n).fileSize),readonly:"",variant:"outlined"},null,8,["model-value"]),l(r,{label:"File Type","model-value":u(n).fileType,readonly:"",variant:"outlined"},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1})):U("",!0),u(x)?(c(),V(m,{key:1},{default:e(()=>[l(f,{cols:"12"},{default:e(()=>[l(p,{class:"bg-surface",variant:"outlined"},{default:e(()=>[l(b,{class:"text-secondary"},{default:e(()=>[...a[9]||(a[9]=[s("Upload Error",-1)])]),_:1}),l(v,null,{default:e(()=>[l(A,{type:"error"},{default:e(()=>[s(D(u(x)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};typeof _=="function"&&_(g);const tl=z(g,[["__scopeId","data-v-f1677de2"]]);export{tl as default};

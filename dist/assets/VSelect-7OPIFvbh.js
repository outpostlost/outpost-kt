import{V as we,m as He}from"./VTextField-DrQV8GZt.js";import{g as le,p as W,u as ee,t as te,h as ne,at as he,i as S,m as M,a7 as De,H as Ke,U as Ue,r as j,a4 as ze,s as z,b as Ne,au as $e,K as ge,a3 as be,w as N,S as ie,c as H,av as de,aw as qe,a8 as je,ax as We,ag as Ee,N as B,F as Z,Q as Re,J as Ge,e as ke,ay as Je,G as Be,a as fe,ar as Qe,aj as Xe,d as Ye,o as Ze,D as re,W as et,C as tt,aa as lt,ab as nt,an as ve,az as at,aA as ot,A as ut,aB as Ie,aC as Se}from"./index-XfzghrTN.js";import{f as Le,d as rt}from"./forwardRefs--s6B5EbG.js";import{u as it,V as st,a as Pe,d as ct,b as dt,m as ft}from"./VList-uSYSyOiG.js";import{g as Fe,i as xe,r as vt,s as mt}from"./VAvatar-DrNrBBh9.js";import{b as Ce,V as Te,m as ht,a as Oe,g as gt}from"./VOverlay-CuvIps3-.js";import{u as pt}from"./scopeId-JKcj2l0q.js";import{u as yt,a as Vt}from"./dimensions-BTn1Zqj3.js";import{V as Ae,m as wt}from"./VSelectionControl-CgJ3t_n0.js";import{V as bt}from"./VChip-CdDlcFnE.js";const kt=W({indeterminate:Boolean,indeterminateIcon:{type:De,default:"$checkboxIndeterminate"},...wt({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),It=le()({name:"VCheckboxBtn",props:kt(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,h){let{slots:l}=h;const o=ee(e,"indeterminate"),i=ee(e,"modelValue");function g(u){o.value&&(o.value=!1)}const p=te(()=>o.value?e.indeterminateIcon:e.falseIcon),r=te(()=>o.value?e.indeterminateIcon:e.trueIcon);return ne(()=>{const u=he(Ae.filterProps(e),["modelValue"]);return S(Ae,M(u,{modelValue:i.value,"onUpdate:modelValue":[d=>i.value=d,g],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:p.value,trueIcon:r.value,"aria-checked":o.value?"mixed":void 0}),l)}),{}}}),St=W({id:String,submenu:Boolean,disableInitialFocus:Boolean,...he(ht({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Oe}}),["absolute"])},"VMenu"),Pt=le()({name:"VMenu",props:St(),emits:{"update:modelValue":e=>!0},setup(e,h){let{slots:l}=h;const o=ee(e,"modelValue"),{scopeId:i}=pt(),{isRtl:g}=Ke(),p=Ue(),r=te(()=>e.id||`v-menu-${p}`),u=j(),d=ze(Ce,null),s=z(new Set);je(Ce,{register(){s.value.add(p)},unregister(){s.value.delete(p)},closeParents(n){setTimeout(()=>{var f;!s.value.size&&!e.persistent&&(n==null||(f=u.value)!=null&&f.contentEl&&!We(n,u.value.contentEl))&&(o.value=!1,d==null||d.closeParents())},40)}}),Ne(()=>{d==null||d.unregister(),document.removeEventListener("focusin",L)}),$e(()=>o.value=!1);async function L(n){var b,x,y;const f=n.relatedTarget,m=n.target;await ge(),o.value&&f!==m&&((b=u.value)!=null&&b.contentEl)&&((x=u.value)!=null&&x.globalTop)&&![document,u.value.contentEl].includes(m)&&!u.value.contentEl.contains(m)&&((y=be(u.value.contentEl)[0])==null||y.focus())}N(o,n=>{n?(d==null||d.register(),ie&&!e.disableInitialFocus&&document.addEventListener("focusin",L,{once:!0})):(d==null||d.unregister(),ie&&document.removeEventListener("focusin",L))},{immediate:!0});function T(n){d==null||d.closeParents(n)}function P(n){var f,m,b,x,y;if(!e.disabled)if(n.key==="Tab"||n.key==="Enter"&&!e.closeOnContentClick){if(n.key==="Enter"&&(n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLInputElement&&n.target.closest("form")))return;n.key==="Enter"&&n.preventDefault(),qe(be((f=u.value)==null?void 0:f.contentEl,!1),n.shiftKey?"prev":"next",F=>F.tabIndex>=0)||(o.value=!1,(b=(m=u.value)==null?void 0:m.activatorEl)==null||b.focus())}else e.submenu&&n.key===(g.value?"ArrowRight":"ArrowLeft")&&(o.value=!1,(y=(x=u.value)==null?void 0:x.activatorEl)==null||y.focus())}function A(n){var m;if(e.disabled)return;const f=(m=u.value)==null?void 0:m.contentEl;f&&o.value?n.key==="ArrowDown"?(n.preventDefault(),n.stopImmediatePropagation(),de(f,"next")):n.key==="ArrowUp"?(n.preventDefault(),n.stopImmediatePropagation(),de(f,"prev")):e.submenu&&(n.key===(g.value?"ArrowRight":"ArrowLeft")?o.value=!1:n.key===(g.value?"ArrowLeft":"ArrowRight")&&(n.preventDefault(),de(f,"first"))):(e.submenu?n.key===(g.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(n.key))&&(o.value=!0,n.preventDefault(),setTimeout(()=>setTimeout(()=>A(n))))}const V=H(()=>M({"aria-haspopup":"menu","aria-expanded":String(o.value),"aria-controls":r.value,onKeydown:A},e.activatorProps));return ne(()=>{const n=Te.filterProps(e);return S(Te,M({ref:u,id:r.value,class:["v-menu",e.class],style:e.style},n,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,absolute:!0,activatorProps:V.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":T,onKeydown:P},i),{activator:l.activator,default:function(){for(var f=arguments.length,m=new Array(f),b=0;b<f;b++)m[b]=arguments[b];return S(Fe,{root:"VMenu"},{default:()=>{var x;return[(x=l.default)==null?void 0:x.call(l,...m)]}})}})}),Le({id:r,Î¨openChildren:s},u)}}),xt=W({renderless:Boolean,...Re()},"VVirtualScrollItem"),Ct=le()({name:"VVirtualScrollItem",inheritAttrs:!1,props:xt(),emits:{"update:height":e=>!0},setup(e,h){let{attrs:l,emit:o,slots:i}=h;const{resizeRef:g,contentRect:p}=Ee(void 0,"border");N(()=>{var r;return(r=p.value)==null?void 0:r.height},r=>{r!=null&&o("update:height",r)}),ne(()=>{var r,u;return e.renderless?B(Z,null,[(r=i.default)==null?void 0:r.call(i,{itemRef:g})]):B("div",M({ref:g,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(u=i.default)==null?void 0:u.call(i)])})}}),Tt=-1,At=1,me=100,Dt=W({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Et(e,h){const l=Ge(),o=z(0);ke(()=>{o.value=parseFloat(e.itemHeight||0)});const i=z(0),g=z(Math.ceil((parseInt(e.height)||l.height.value)/(o.value||16))||1),p=z(0),r=z(0),u=j(),d=j();let s=0;const{resizeRef:L,contentRect:T}=Ee();ke(()=>{L.value=u.value});const P=H(()=>{var t;return u.value===document.documentElement?l.height.value:((t=T.value)==null?void 0:t.height)||parseInt(e.height)||0}),A=H(()=>!!(u.value&&d.value&&P.value&&o.value));let V=Array.from({length:h.value.length}),n=Array.from({length:h.value.length});const f=z(0);let m=-1;function b(t){return V[t]||o.value}const x=Je(()=>{const t=performance.now();n[0]=0;const a=h.value.length;for(let v=1;v<=a-1;v++)n[v]=(n[v-1]||0)+b(v-1);f.value=Math.max(f.value,performance.now()-t)},f),y=N(A,t=>{t&&(y(),s=d.value.offsetTop,x.immediate(),U(),~m&&ge(()=>{ie&&window.requestAnimationFrame(()=>{ue(m),m=-1})}))});Be(()=>{x.clear()});function G(t,a){const v=V[t],k=o.value;o.value=k?Math.min(o.value,a):a,(v!==a||k!==o.value)&&(V[t]=a,x())}function F(t){t=fe(t,0,h.value.length-1);const a=Math.floor(t),v=t%1,k=a+1,D=n[a]||0,c=n[k]||D;return D+(c-D)*v}function K(t){return Rt(n,t)}let J=0,$=0,Q=0;N(P,(t,a)=>{a&&(U(),t<a&&requestAnimationFrame(()=>{$=0,U()}))});let X=-1;function ae(){if(!u.value||!d.value)return;const t=u.value.scrollTop,a=performance.now();a-Q>500?($=Math.sign(t-J),s=d.value.offsetTop):$=t-J,J=t,Q=a,window.clearTimeout(X),X=window.setTimeout(q,500),U()}function q(){!u.value||!d.value||($=0,Q=0,window.clearTimeout(X),U())}let oe=-1;function U(){cancelAnimationFrame(oe),oe=requestAnimationFrame(se)}function se(){if(!u.value||!P.value||!o.value)return;const t=J-s,a=Math.sign($),v=Math.max(0,t-me),k=fe(K(v),0,h.value.length),D=t+P.value+me,c=fe(K(D)+1,k+1,h.value.length);if((a!==Tt||k<i.value)&&(a!==At||c>g.value)){const E=F(i.value)-F(k),R=F(c)-F(g.value);Math.max(E,R)>me?(i.value=k,g.value=c):(k<=0&&(i.value=k),c>=h.value.length&&(g.value=c))}p.value=F(i.value),r.value=F(h.value.length)-F(g.value)}function ue(t){const a=F(t);!u.value||t&&!a?m=t:u.value.scrollTop=a}const ce=H(()=>h.value.slice(i.value,g.value).map((t,a)=>{const v=a+i.value;return{raw:t,index:v,key:Qe(t,e.itemKey,v)}}));return N(h,()=>{V=Array.from({length:h.value.length}),n=Array.from({length:h.value.length}),x.immediate(),U()},{deep:1}),{calculateVisibleItems:U,containerRef:u,markerRef:d,computedItems:ce,paddingTop:p,paddingBottom:r,scrollToIndex:ue,handleScroll:ae,handleScrollend:q,handleItemResize:G}}function Rt(e,h){let l=e.length-1,o=0,i=0,g=null,p=-1;if(e[l]<h)return l;for(;o<=l;)if(i=o+l>>1,g=e[i],g>h)l=i-1;else if(g<h)p=i,o=i+1;else return g===h?i:o;return p}const Bt=W({items:{type:Array,default:()=>[]},renderless:Boolean,...Dt(),...Re(),...Vt()},"VVirtualScroll"),Lt=le()({name:"VVirtualScroll",props:Bt(),setup(e,h){let{slots:l}=h;const o=Xe("VVirtualScroll"),{dimensionStyles:i}=yt(e),{calculateVisibleItems:g,containerRef:p,markerRef:r,handleScroll:u,handleScrollend:d,handleItemResize:s,scrollToIndex:L,paddingTop:T,paddingBottom:P,computedItems:A}=Et(e,te(()=>e.items));return Ye(()=>e.renderless,()=>{function V(){var m,b;const f=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";p.value===document.documentElement?(document[f]("scroll",u,{passive:!0}),document[f]("scrollend",d)):((m=p.value)==null||m[f]("scroll",u,{passive:!0}),(b=p.value)==null||b[f]("scrollend",d))}Ze(()=>{p.value=gt(o.vnode.el,!0),V(!0)}),Be(V)}),ne(()=>{const V=A.value.map(n=>S(Ct,{key:n.key,renderless:e.renderless,"onUpdate:height":f=>s(n.index,f)},{default:f=>{var m;return(m=l.default)==null?void 0:m.call(l,{item:n.raw,index:n.index,...f})}}));return e.renderless?B(Z,null,[B("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:re(T.value)}},null),V,B("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:re(P.value)}},null)]):B("div",{ref:p,class:tt(["v-virtual-scroll",e.class]),onScrollPassive:u,onScrollend:d,style:et([i.value,e.style])},[B("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:re(T.value),paddingBottom:re(P.value)}},[V])])}),{calculateVisibleItems:g,scrollToIndex:L}}});function Ft(e,h){const l=z(!1);let o;function i(r){cancelAnimationFrame(o),l.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{l.value=!1})})}async function g(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(l.value){const u=N(l,()=>{u(),r()})}else r()})}async function p(r){var s,L;if(r.key==="Tab"&&((s=h.value)==null||s.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const u=(L=e.value)==null?void 0:L.$el;if(!u)return;(r.key==="Home"||r.key==="End")&&u.scrollTo({top:r.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await g();const d=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const T=u.getBoundingClientRect().top;for(const P of d)if(P.getBoundingClientRect().top>=T){P.focus();break}}else{const T=u.getBoundingClientRect().bottom;for(const P of[...d].reverse())if(P.getBoundingClientRect().bottom<=T){P.focus();break}}}return{onScrollPassive:i,onKeydown:p}}const Ot=W({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:De,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...ft({itemChildren:!1})},"Select"),Mt=W({...Ot(),...he(He({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...mt({transition:{component:Oe}})},"VSelect"),Gt=le()({name:"VSelect",props:Mt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,h){let{slots:l}=h;const{t:o}=lt(),i=j(),g=j(),p=j(),{items:r,transformIn:u,transformOut:d}=it(e),s=ee(e,"modelValue",[],t=>u(t===null?[null]:nt(t)),t=>{const a=d(t);return e.multiple?a:a[0]??null}),L=H(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:s.value.length),T=rt(e),P=H(()=>s.value.map(t=>t.value)),A=z(!1);let V="",n=-1,f;const m=H(()=>e.hideSelected?r.value.filter(t=>!s.value.some(a=>(e.valueComparator||ve)(a,t))):r.value),b=H(()=>e.hideNoData&&!m.value.length||T.isReadonly.value||T.isDisabled.value),x=ee(e,"menu"),y=H({get:()=>x.value,set:t=>{var a;x.value&&!t&&((a=g.value)!=null&&a.Î¨openChildren.size)||t&&b.value||(x.value=t)}}),G=te(()=>y.value?e.closeText:e.openText),F=H(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),K=j(),J=Ft(K,i);function $(t){e.openOnClear&&(y.value=!0)}function Q(){b.value||(y.value=!y.value)}function X(t){Ie(t)&&ae(t)}function ae(t){var w,O,C;if(!t.key||T.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(y.value=!0),["Escape","Tab"].includes(t.key)&&(y.value=!1),t.key==="Home"?(w=K.value)==null||w.focus("first"):t.key==="End"&&((O=K.value)==null||O.focus("last"));const a=1e3;if(!Ie(t))return;const v=performance.now();v-f>a&&(V="",n=-1),V+=t.key.toLowerCase(),f=v;const k=m.value;function D(){let I=c();return I||V.at(-1)===V.at(-2)&&(V=V.slice(0,-1),I=c(),I)||(n=-1,I=c(),I)?I:(V=t.key.toLowerCase(),c())}function c(){for(let I=n+1;I<k.length;I++){const Y=k[I];if(Y.title.toLowerCase().startsWith(V))return[Y,I]}}const E=D();if(!E)return;const[R,_]=E;n=_,(C=K.value)==null||C.focus(_),e.multiple||(s.value=[R])}function q(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const v=s.value.findIndex(D=>(e.valueComparator||ve)(D.value,t.value)),k=a??!~v;if(~v){const D=k?[...s.value,t]:[...s.value];D.splice(v,1),s.value=D}else k&&(s.value=[...s.value,t])}else{const v=a!==!1;s.value=v?[t]:[],ge(()=>{y.value=!1})}}function oe(t){var a;(a=K.value)!=null&&a.$el.contains(t.relatedTarget)||(y.value=!1)}function U(){var t;e.eager&&((t=p.value)==null||t.calculateVisibleItems())}function se(){var t;A.value&&((t=i.value)==null||t.focus())}function ue(t){A.value=!0}function ce(t){if(t==null)s.value=[];else if(Se(i.value,":autofill")||Se(i.value,":-webkit-autofill")){const a=r.value.find(v=>v.title===t);a&&q(a)}else i.value&&(i.value.value="")}return N(y,()=>{if(!e.hideSelected&&y.value&&s.value.length){const t=m.value.findIndex(a=>s.value.some(v=>(e.valueComparator||ve)(v.value,a.value)));ie&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{var a;t>=0&&((a=p.value)==null||a.scrollToIndex(t))})}}),N(()=>e.items,(t,a)=>{y.value||A.value&&e.hideNoData&&!a.length&&t.length&&(y.value=!0)}),ne(()=>{const t=!!(e.chips||l.chip),a=!!(!e.hideNoData||m.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),v=s.value.length>0,k=we.filterProps(e),D=v||!A.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return S(we,M({ref:i},k,{modelValue:s.value.map(c=>c.props.title).join(", "),"onUpdate:modelValue":ce,focused:A.value,"onUpdate:focused":c=>A.value=c,validationValue:s.externalValue,counterValue:L.value,dirty:v,class:["v-select",{"v-select--active-menu":y.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":s.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:D,"onClick:clear":$,"onMousedown:control":Q,onBlur:oe,onKeydown:ae,"aria-label":o(G.value),title:o(G.value)}),{...l,default:()=>B(Z,null,[S(Pt,M({ref:g,modelValue:y.value,"onUpdate:modelValue":c=>y.value=c,activator:"parent",contentClass:"v-select__content",disabled:b.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:U,onAfterLeave:se},F.value),{default:()=>[a&&S(st,M({ref:K,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:c=>c.preventDefault(),onKeydown:X,onFocusin:ue,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},J,e.listProps),{default:()=>{var c,E,R;return[(c=l["prepend-item"])==null?void 0:c.call(l),!m.value.length&&!e.hideNoData&&(((E=l["no-data"])==null?void 0:E.call(l))??S(Pe,{key:"no-data",title:o(e.noDataText)},null)),S(Lt,{ref:p,renderless:!0,items:m.value,itemKey:"value"},{default:_=>{var pe,ye,Ve;let{item:w,index:O,itemRef:C}=_;const I=at(w.props),Y=M(w.props,{ref:C,key:w.value,onClick:()=>q(w,null)});return w.type==="divider"?((pe=l.divider)==null?void 0:pe.call(l,{props:w.raw,index:O}))??S(ct,M(w.props,{key:`divider-${O}`}),null):w.type==="subheader"?((ye=l.subheader)==null?void 0:ye.call(l,{props:w.raw,index:O}))??S(dt,M(w.props,{key:`subheader-${O}`}),null):((Ve=l.item)==null?void 0:Ve.call(l,{item:w,index:O,props:Y}))??S(Pe,M(Y,{role:"option"}),{prepend:Me=>{let{isSelected:_e}=Me;return B(Z,null,[e.multiple&&!e.hideSelected?S(It,{key:w.value,modelValue:_e,ripple:!1,tabindex:"-1"},null):void 0,I.prependAvatar&&S(vt,{image:I.prependAvatar},null),I.prependIcon&&S(xe,{icon:I.prependIcon},null)])}})}}),(R=l["append-item"])==null?void 0:R.call(l)]}})]}),s.value.map((c,E)=>{function R(C){C.stopPropagation(),C.preventDefault(),q(c,!1)}const _={"onClick:close":R,onKeydown(C){C.key!=="Enter"&&C.key!==" "||(C.preventDefault(),C.stopPropagation(),R(C))},onMousedown(C){C.preventDefault(),C.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},w=t?!!l.chip:!!l.selection,O=w?ot(t?l.chip({item:c,index:E,props:_}):l.selection({item:c,index:E})):void 0;if(!(w&&!O))return B("div",{key:c.value,class:"v-select__selection"},[t?l.chip?S(Fe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:c.title}}},{default:()=>[O]}):S(bt,M({key:"chip",closable:e.closableChips,size:"small",text:c.title,disabled:c.props.disabled},_),null):O??B("span",{class:"v-select__selection-text"},[c.title,e.multiple&&E<s.value.length-1&&B("span",{class:"v-select__selection-comma"},[ut(",")])])])})]),"append-inner":function(){var _,w;for(var c=arguments.length,E=new Array(c),R=0;R<c;R++)E[R]=arguments[R];return B(Z,null,[(_=l["append-inner"])==null?void 0:_.call(l,...E),e.menuIcon?S(xe,{class:"v-select__menu-icon",color:(w=i.value)==null?void 0:w.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Le({isFocused:A,menu:y,select:q},i)}});export{Gt as V,It as a};
